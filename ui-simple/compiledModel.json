{"entities":[{"metadata":{"titlePlural":"The Users","name":{"singular":"User","plural":"Users"},"storage":{"indexes":{"userName":{"name":"u","fields":{"userName":1},"options":{"sparse":true,"unique":true}},"id":{"name":"i","fields":{"id":1},"options":{"sparse":true,"unique":true}},"updatedBy":{"name":"u","fields":{"updatedBy":1},"options":{"sparse":true}},"updatedAt":{"name":"u","fields":{"updatedAt":1},"options":{"sparse":true}}}},"UI":{"listName":"userName","list":["enabled","isAdmin","isSystem"],"show":["^password","^updatedBy","^updatedAt"],"embedded":["todos"]}},"name":"User","title":"The User","fields":[{"metadata":{"order":0,"storage":{"persistent":true,"identity":true,"required":true,"indexed":true}},"name":"userName","title":"user/email","persistent":true},{"metadata":{"order":1,"storage":{"persistent":true,"required":true,"identity":false}},"name":"password","persistent":true},{"metadata":{"order":2,"storage":{"persistent":true,"identity":false},"defaultValue":"false"},"name":"isAdmin","title":" is Administrator","defaultValue":"false","persistent":true,"type":"boolean"},{"metadata":{"order":3,"storage":{"persistent":true,"identity":false},"defaultValue":"false"},"name":"isSystem","title":" is System User","defaultValue":"false","persistent":true,"type":"boolean"},{"metadata":{"order":4,"storage":{"persistent":true,"identity":false},"defaultValue":"true"},"name":"enabled","title":"Allow to login","defaultValue":"true","persistent":true,"type":"boolean"},{"metadata":{"order":5,"storage":{"persistent":true,"identity":false}},"name":"todos","title":"todo list","persistent":true,"relation":{"metadata":{"storage":{"single":false,"stored":false,"embedded":false},"verb":"HasMany","name":{"full":"UserHasManyTodos","normal":"UserTodos","short":"Todos"}},"hasMany":"userName@ToDoItem#user"}},{"metadata":{"order":6,"storage":{"persistent":true,"identity":false}},"name":"files","title":"user files","persistent":true,"relation":{"metadata":{"storage":{"single":false,"stored":false,"embedded":false},"verb":"HasMany","name":{"full":"UserHasManyFiles","normal":"UserFiles","short":"Files"}},"hasMany":"File#user"}},{"metadata":{"order":7,"storage":{"persistent":true,"identity":true,"required":true,"indexed":true}},"name":"id","persistent":true,"type":"ID"},{"metadata":{"order":0,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"updatedBy","persistent":true,"type":"ID"},{"metadata":{"order":1,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"updatedAt","persistent":true,"type":"Date"}],"implements":["IUser","IUpdated"]},{"metadata":{"titlePlural":"ToDoItems","name":{"singular":"ToDoItem","plural":"ToDoItems"},"storage":{"indexes":{"name":{"name":"n","fields":{"name":1},"options":{"sparse":true}},"description":{"name":"d","fields":{"description":1},"options":{"sparse":true}},"done":{"name":"d","fields":{"done":1},"options":{"sparse":true}},"dueToDate":{"name":"d","fields":{"dueToDate":1},"options":{"sparse":true}},"published":{"name":"p","fields":{"published":1},"options":{"sparse":true}},"user":{"name":"u","fields":{"user":1},"options":{"sparse":true}},"id":{"name":"i","fields":{"id":1},"options":{"sparse":true,"unique":true}},"updatedBy":{"name":"u","fields":{"updatedBy":1},"options":{"sparse":true}},"updatedAt":{"name":"u","fields":{"updatedAt":1},"options":{"sparse":true}}}},"UI":{"listName":"name","list":["name","description","done","dueToDate","published"],"show":["^updatedBy","^updatedAt"],"embedded":["user"]}},"name":"ToDoItem","title":"todo Item","fields":[{"metadata":{"order":0,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"name","persistent":true},{"metadata":{"order":1,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"description","persistent":true},{"metadata":{"order":2,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"done","persistent":true,"type":"boolean"},{"metadata":{"order":3,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"dueToDate","persistent":true,"type":"Date"},{"metadata":{"order":4,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"published","persistent":true,"type":"boolean"},{"metadata":{"order":5,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"user","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"ToDoItemBelongsToUser","normal":"ToDoItemUser","short":"User"}},"belongsTo":"User#userName"}},{"metadata":{"order":6,"storage":{"persistent":true,"identity":true,"required":true,"indexed":true}},"name":"id","persistent":true,"type":"ID"},{"metadata":{"order":0,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"updatedBy","persistent":true,"type":"ID"},{"metadata":{"order":1,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"updatedAt","persistent":true,"type":"Date"}],"implements":["IUpdated"]},{"metadata":{"titlePlural":"Files","name":{"singular":"File","plural":"Files"},"storage":{"indexes":{"path":{"name":"p","fields":{"path":1},"options":{"sparse":true,"unique":true}},"filename":{"name":"filename","fields":{"filename":1},"options":{"sparse":true}},"mimetype":{"name":"mimetype","fields":{"mimetype":1},"options":{"sparse":true}},"encoding":{"name":"encoding","fields":{"encoding":1},"options":{"sparse":true}},"user":{"name":"user","fields":{"user":1},"options":{"sparse":true}}}}},"name":"File","title":"User files","fields":[{"metadata":{"order":0,"storage":{"persistent":true,"identity":true,"required":true,"indexed":true}},"name":"path","persistent":true},{"metadata":{"order":1,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"filename","persistent":true},{"metadata":{"order":2,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"mimetype","persistent":true},{"metadata":{"order":3,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"encoding","persistent":true},{"metadata":{"order":4,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"user","title":"Owner","persistent":true,"relation":{"metadata":{"storage":{"single":true,"stored":true,"embedded":true},"verb":"BelongsTo","name":{"full":"FileBelongsToUser","normal":"FileUser","short":"User"}},"belongsTo":"User#"}},{"metadata":{"storage":{"persistent":true,"identity":true,"required":true,"indexed":true}},"name":"id","persistent":true,"type":"ID"}],"implements":[]}],"packages":[{"name":"system","title":"system","abstract":false,"description":"system","entities":["User","ToDoItem","File"],"mutations":["loginUser"],"queries":["acl"],"enums":["entityAcl"],"unions":["nodes"],"mixins":["IUser","IUpdated"]},{"name":"All","abstract":true,"entities":["User","ToDoItem","File"],"mutations":[],"queries":[],"enums":[],"unions":[],"mixins":[]}],"mutations":[{"name":"loginUser","description":"make user login","args":[{"name":"userName","required":true},{"name":"password","required":true}],"payload":[{"name":"token"},{"name":"role"}]}],"queries":[{"name":"acl","description":"get user acl","args":[{"name":"entity","required":false,"type":"string"}],"payload":[{"name":"acl","type":"JSON"}]}],"enums":[{"name":"entityAcl","description":"enum of acl","items":["read","write","create","update",{"name":"deny","value":"restrict"}]}],"unions":[{"name":"nodes","description":"any node in schema","items":["ToDoItem","User"]}],"mixins":[{"metadata":{"titlePlural":"IUsers","name":{"singular":"IUser","plural":"IUsers"},"storage":{"indexes":{"userName":{"name":"u","fields":{"userName":1},"options":{"sparse":true,"unique":true}}}}},"name":"IUser","fields":[{"metadata":{"order":0,"storage":{"persistent":true,"identity":true,"required":true,"indexed":true}},"name":"userName","persistent":true},{"metadata":{"order":1,"storage":{"persistent":true,"identity":false}},"name":"todos","persistent":true,"relation":{"metadata":{"storage":{"single":false,"stored":false,"embedded":false},"verb":"HasMany","name":{"full":"IUserHasManyTodos","normal":"IUserTodos","short":"Todos"}},"hasMany":"userName@ToDoItem#user"}},{"metadata":{"storage":{"persistent":true,"identity":true,"required":true,"indexed":true}},"name":"id","persistent":true,"type":"ID"}]},{"metadata":{"titlePlural":"IUpdateds","name":{"singular":"IUpdated","plural":"IUpdateds"},"storage":{"indexes":{"updatedBy":{"name":"updatedBy","fields":{"updatedBy":1},"options":{"sparse":true}},"updatedAt":{"name":"updatedAt","fields":{"updatedAt":1},"options":{"sparse":true}}}}},"name":"IUpdated","fields":[{"metadata":{"order":0,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"updatedBy","persistent":true,"type":"ID"},{"metadata":{"order":1,"storage":{"persistent":true,"indexed":true,"identity":false}},"name":"updatedAt","persistent":true,"type":"Date"},{"metadata":{"storage":{"persistent":true,"identity":true,"required":true,"indexed":true}},"name":"id","persistent":true,"type":"ID"}]}]}